(function(e){function t(t){for(var r,a,u=t[0],i=t[1],s=t[2],d=0,m=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(m.length)m.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o={app:0},c=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-05b2a3cd":"773e1ece","chunk-2959a08a":"1eeb7fc8","chunk-0af63be2":"061beb91","chunk-fd20564e":"2d9ba2d3","chunk-cfad45a0":"f4198c6f","chunk-a3a1136c":"92b334fe","chunk-e9b87ace":"5cbf3a05","chunk-db96538c":"d3ced43f","chunk-027bfc0e":"a7d5b7d8","chunk-1982975e":"cd5f4073","chunk-5a817eee":"704cc060","chunk-95858e6a":"1f1b10b0","chunk-3afaccd2":"db61cbee","chunk-7b0cc4a7":"ea180e57","chunk-a8b58f02":"219155d7"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-05b2a3cd":1,"chunk-2959a08a":1,"chunk-0af63be2":1,"chunk-fd20564e":1,"chunk-cfad45a0":1,"chunk-a3a1136c":1,"chunk-e9b87ace":1,"chunk-db96538c":1,"chunk-027bfc0e":1,"chunk-1982975e":1,"chunk-5a817eee":1,"chunk-95858e6a":1,"chunk-3afaccd2":1,"chunk-7b0cc4a7":1,"chunk-a8b58f02":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-05b2a3cd":"560d7417","chunk-2959a08a":"1e6497c0","chunk-0af63be2":"01afc850","chunk-fd20564e":"1c48eead","chunk-cfad45a0":"4114b8f2","chunk-a3a1136c":"4e2e4aff","chunk-e9b87ace":"a0902ca4","chunk-db96538c":"ec15eb9c","chunk-027bfc0e":"3a046333","chunk-1982975e":"c321e4b3","chunk-5a817eee":"5a115c08","chunk-95858e6a":"04a6c29a","chunk-3afaccd2":"7ecba0be","chunk-7b0cc4a7":"496ef31e","chunk-a8b58f02":"8aa12114"}[e]+".css",o=i.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===r||d===o))return t()}var m=document.getElementsByTagName("style");for(u=0;u<m.length;u++){s=m[u],d=s.getAttribute("data-href");if(d===r||d===o)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var r=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[e],l.parentNode.removeChild(l),n(c)},l.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(l)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=c);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(e);var m=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",m.name="ChunkLoadError",m.type=r,m.request=a,n[1](m)}o[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/smartAdmin/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var m=0;m<s.length;m++)t(s[m]);var l=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("bc3a"),a=n.n(r),o=n("2b0e"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("router-view")],1)],1)},u=[],i={name:"App"},s=i,d=(n("5ec6"),n("2877")),m=n("6544"),l=n.n(m),p=n("7496"),f=n("f6c4"),h=Object(d["a"])(s,c,u,!1,null,"07df7fd5",null),g=h.exports;l()(h,{VApp:p["a"],VMain:f["a"]});var b=n("9483");Object(b["a"])("".concat("/smartAdmin/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var k=n("8c4f"),v=n("58ca"),_=(n("d3b7"),{path:"/",name:"login",meta:{authrequired:!1,title:"Login"},component:function(){return Promise.all([n.e("chunk-05b2a3cd"),n.e("chunk-2959a08a"),n.e("chunk-fd20564e"),n.e("chunk-cfad45a0"),n.e("chunk-e9b87ace")]).then(n.bind(null,"bd01"))}}),w={path:"/home",name:"home",meta:{authrequired:!0,title:"Home"},component:function(){return Promise.all([n.e("chunk-05b2a3cd"),n.e("chunk-3afaccd2")]).then(n.bind(null,"9b48"))},children:[{path:"sales",name:"sales",meta:{authrequired:!0,title:"SmartPOS :: Sales"},component:function(){return Promise.all([n.e("chunk-05b2a3cd"),n.e("chunk-2959a08a"),n.e("chunk-0af63be2")]).then(n.bind(null,"8081"))},children:[{path:"overview",name:"overview",meta:{authrequired:!0,title:"Sales :: Dashboard"},component:function(){return Promise.all([n.e("chunk-05b2a3cd"),n.e("chunk-2959a08a"),n.e("chunk-fd20564e"),n.e("chunk-db96538c"),n.e("chunk-95858e6a")]).then(n.bind(null,"8ce0"))}},{path:"findbill",name:"findbill",meta:{authrequired:!0,title:"SmartPOS :: Find bill"},component:function(){return Promise.all([n.e("chunk-05b2a3cd"),n.e("chunk-2959a08a"),n.e("chunk-fd20564e"),n.e("chunk-db96538c"),n.e("chunk-5a817eee")]).then(n.bind(null,"661d"))}},{path:"itemwisesale",name:"itemwisesale",meta:{authrequired:!0,title:"SmartPOS :: Items sold"},component:function(){return Promise.all([n.e("chunk-05b2a3cd"),n.e("chunk-2959a08a"),n.e("chunk-fd20564e"),n.e("chunk-db96538c"),n.e("chunk-1982975e")]).then(n.bind(null,"d6b2"))}},{path:"salesSammary",name:"salessammary",meta:{authrequired:!0,title:"SmartPOS :: Sales summary"},component:function(){return Promise.all([n.e("chunk-05b2a3cd"),n.e("chunk-2959a08a"),n.e("chunk-fd20564e"),n.e("chunk-db96538c"),n.e("chunk-027bfc0e")]).then(n.bind(null,"a7f7"))}}]}]},y={path:"/Setup",name:"setup",meta:{authrequired:!1},component:function(){return Promise.all([n.e("chunk-05b2a3cd"),n.e("chunk-2959a08a"),n.e("chunk-fd20564e"),n.e("chunk-cfad45a0"),n.e("chunk-a3a1136c")]).then(n.bind(null,"38d0"))}},S={path:"/Accounting",name:"accounting",meta:{authrequired:!1,title:"SmartPOS :: Accounting"},component:function(){return Promise.all([n.e("chunk-05b2a3cd"),n.e("chunk-7b0cc4a7")]).then(n.bind(null,"04e6"))},children:[{path:"",name:"accountingDashboard",meta:{authrequired:!1,title:"SmartPOS :: Accounting dashboard"},component:function(){return n.e("chunk-a8b58f02").then(n.bind(null,"9b21"))}}]};o["a"].use(k["a"]),o["a"].use(v["a"],{refreshOnceOnNavigation:!0});var x=[_,w,S,y],O=new k["a"]({mode:"history",base:"/smartAdmin/",routes:x});O.beforeEach((function(e,t,n){e.matched.length?(document.title=e.meta.title,n()):n()}));var L=O,R=n("2f62"),j=(n("96cf"),n("1da1")),I={auth:function(e){return Object(j["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("username",e.username),n.append("password",e.password),t.next=5,a.a.post("auth/",n).then((function(e){return e.data})).catch((function(e){return e}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()},authId:function(e){return Object(j["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("auth_by_id",e),t.next=4,a.a.post("auth/",n).then((function(e){return e.data})).catch((function(e){return e}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()},smart:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.a.post(e,t).then((function(e){return e.data})).catch((function(e){return e}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},update:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.a.patch(e,t).then((function(e){return e.data})).catch((function(e){return e}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},E={namespaced:!0,state:{user:{},loading:!1,error:{status:!1,message:""},routes:[{icon:"mdi-sale",name:"Sales",path:"overview"},{icon:"mdi-webhook",name:"Accounting",path:"accountingDashboard"}]},mutations:{setRoles:function(e,t){e.roles=t},setUsers:function(e,t){e.users=t},resetUser:function(e){e.user=null},toggleLoading:function(e,t){e.loading=t},seterror:function(e,t){e.error={status:!0,message:t}},clearError:function(e){e.error={status:!1,message:""}},setUser:function(e,t){e.user=t}},actions:{setLoading:function(e,t){var n=e.commit;n("toggleLoading",t)},setError:function(e,t){var n=e.commit;n("seterror",t)},clearError:function(e){var t=e.commit;t("clearError")},performLogin:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,a=e.commit,a("toggleLoading",!0),n.next=4,I.auth(t);case 4:o=n.sent,o.error?(a("toggleLoading",!1),r("setError",o.message)):(c=o.data,localStorage.setItem("smart_user_id",c.id),localStorage.setItem("smart_user_name",c.user_name),localStorage.setItem("smart_user_role",c.role),localStorage.setItem("smart_company_id",c.company_info.company_id),localStorage.setItem("smart_company_day_open",c.company_info.day_open),5===c.role?(a("setUser",c),L.push({name:"overview"})):(r("setError","Sorry, you have no access to this section"),r("performLogout"))),a("toggleLoading",!1);case 7:case"end":return n.stop()}}),n)})))()},getUserById:function(e){return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.dispatch,r=e.commit,r("toggleLoading",!0),a=localStorage.getItem("smart_user_id"),a){t.next=7;break}return r("toggleLoading",!1),n("setError","no login information found"),t.abrupt("return",L.push({name:"login"}));case 7:return t.next=9,I.authId(a);case 9:o=t.sent,o.error?(n("setError",o.message),L.push({name:"login"})):(c=o.data,localStorage.setItem("smart_user_id",c.id),localStorage.setItem("smart_user_name",c.user_name),localStorage.setItem("smart_user_role",c.role),localStorage.setItem("smart_company_id",c.company_info.company_id),localStorage.setItem("smart_company_day_open",c.company_info.day_open),5===c.role?(r("setUser",c),L.push({name:"overview"})):(n("setError","Sorry, you have no access to this section"),n("performLogout"))),r("toggleLoading",!1);case 12:case"end":return t.stop()}}),t)})))()},performLogout:function(e){var t=e.commit;localStorage.removeItem("smart_user_id"),localStorage.removeItem("smart_user_name"),localStorage.removeItem("smart_user_role"),localStorage.removeItem("smart_company_day_open"),localStorage.removeItem("smart_company_id"),t("setUser",null),L.push({name:"login"})}},getters:{error:function(e){return e.error},loading:function(e){return e.loading},user:function(e){return e.user},routes:function(e){return e.routes}}},P="scylla/",A={namespaced:!0,state:{currentSale:"",orders:[],salesSammary:null,loading:!1,error:null},mutations:{setSale:function(e,t){e.currentSale=t},setError:function(e,t){e.error={status:!0,message:t}},toggleLoading:function(e,t){e.loading=t},setOrders:function(e,t){e.orders=t}},actions:{getOrders:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=t||localStorage.getItem("smart_company_day_open"),!a){n.next=16;break}return o=new FormData,o.append("day_filter",a),o.append("all_orders",1),n.next=8,I.smart(P,o);case 8:if(c=n.sent,u=c.data,!u.error){n.next=12;break}return n.abrupt("return",r("setError",u.message));case 12:r("setOrders",u.orders),r("setSale",u),n.next=17;break;case 16:r("setError","No day open found");case 17:case"end":return n.stop()}}),n)})))()},getOrderItems:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("toggleLoading",!0),a=new FormData,a.append("get_order_items",t),n.next=6,I.smart(P,a);case 6:return o=n.sent,c=o,r("toggleLoading",!1),n.abrupt("return",c);case 10:case"end":return n.stop()}}),n)})))()},getSettlementAmounts:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("toggleLoading",!0),a=new FormData,a.append("settlement_date",t),a.append("get_settlements",t),n.next=7,I.smart(P,a);case 7:return o=n.sent,r("toggleLoading",!1),n.abrupt("return",o);case 10:case"end":return n.stop()}}),n)})))()},CancelOrderItem:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,r("toggleLoading",!0),o=new FormData,o.append("cancel_order_item",t.id),o.append("reason",t.reason),o.append("cancelled_by",t.cancelled_by),o.append("order_id",t.order_id),o.append("order_date",t.order_date),n.next=10,I.smart(P,o);case 10:return c=n.sent,a("getOrders"),r("toggleLoading",!1),n.abrupt("return",c.data);case 14:case"end":return n.stop()}}),n)})))()},getClients:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("toggleLoading",!0),a=new FormData,a.append("get_pos_clients",t),n.next=6,I.smart(P,a);case 6:return o=n.sent,r("toggleLoading",!1),n.abrupt("return",o);case 9:case"end":return n.stop()}}),n)})))()},filterOrders:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("toggleLoading",!0),a=new FormData,a.append("find_bill",t.bill_no),a.append("from",t.from),a.append("to",t.to),a.append("client_id",t.client_id),n.next=9,I.smart(P,a);case 9:return o=n.sent,r("toggleLoading",!1),n.abrupt("return",o);case 12:case"end":return n.stop()}}),n)})))()},getMenuItems:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("toggleLoading",!0),a=new FormData,a.append("get_menu_items",t.item_id),n.next=6,I.smart(P,a);case 6:return o=n.sent,r("toggleLoading",!1),n.abrupt("return",o);case 9:case"end":return n.stop()}}),n)})))()},getDepartments:function(e){return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("toggleLoading",!0),r=new FormData,r.append("get_departments","all"),t.next=6,I.smart(P,r);case 6:return a=t.sent,n("toggleLoading",!1),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))()},fetchItemsSold:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,t){n.next=3;break}return n.abrupt("return",null);case 3:return r("toggleLoading",!0),a=new FormData,a.append("fetch_items_sold",t.menu_item),a.append("department_id",t.department),a.append("from",t.date_from),a.append("to",t.date_to),n.next=11,I.smart(P,a);case 11:return o=n.sent,r("toggleLoading",!1),n.abrupt("return",o);case 14:case"end":return n.stop()}}),n)})))()},fetchSalesSummary:function(e,t){return Object(j["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,t){n.next=3;break}return n.abrupt("return",null);case 3:return r("toggleLoading",!0),a=new FormData,a.append("fetch_sales_summary",t.from),a.append("sales_from",t.from),a.append("sales_to",t.to),n.next=10,I.smart(P,a);case 10:return o=n.sent,r("toggleLoading",!1),n.abrupt("return",o);case 13:case"end":return n.stop()}}),n)})))()}},getters:{orders:function(e){return e.orders},loading:function(e){return e.loading},sale:function(e){return e.currentSale}}};o["a"].use(R["a"]);var D=new R["a"].Store({state:{},mutations:{},actions:{},modules:{auth:E,sales:A}}),q=(n("5363"),n("f309"));o["a"].use(q["a"]);var F=new q["a"]({iconfont:"mdi"}),C=(n("fb98"),localStorage.getItem("smartpos_ipaddress_set"));a.a.defaults.baseURL=C?"http://".concat(C,"/papi/"):"http://localhost:80/papi/",o["a"].config.productionTip=!1,L.beforeEach((function(e,t,n){var r=localStorage.getItem("smart_user_id");return e.meta.authrequired&&!r?n({replace:!0,name:"login"}):e.meta.authrequired&&r?n():e.meta.authrequired?e.path===t.path?null:void n():n()})),new o["a"]({router:L,store:D,vuetify:F,created:function(){var e=localStorage.getItem("smart_user_id");e&&D.dispatch("auth/getUserById")},render:function(e){return e(g)}}).$mount("#app")},"5ec6":function(e,t,n){"use strict";n("9dc6")},"9dc6":function(e,t,n){},fb98:function(e,t,n){}});
//# sourceMappingURL=app.a67c8d38.js.map